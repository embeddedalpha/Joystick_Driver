<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.12.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ADC Driver: ADC.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ADC Driver<span id="projectnumber">&#160;STM32F407ADC</span>
   </div>
   <div id="projectbrief">This is documentation of ADC driver written for STM32F407VGT6</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.12.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">ADC.h File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>This is the driver file to be added the the application code. Functions in this driver are implemented in <a class="el" href="_a_d_c_8c.html">ADC.c</a>.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;main.h&quot;</code><br />
<code>#include &quot;GPIO.h&quot;</code><br />
<code>#include &quot;DMA.h&quot;</code><br />
<code>#include &quot;<a class="el" href="_a_d_c___defs_8h_source.html">ADC_Defs.h</a>&quot;</code><br />
</div>
<p><a href="_a_d_c_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c___pin.html">ADC_Pin</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c___config.html">ADC_Config</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This is the configuration structure to be used to make an instance of ADC.  <a href="struct_a_d_c___config.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c___config_1_1_external___trigger.html">ADC_Config::External_Trigger</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_a_d_c___config_1_1_watchdog___analog.html">ADC_Config::Watchdog_Analog</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="typedef-members" name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a0428335dcdc8493f07f2b86308345390" id="r_a0428335dcdc8493f07f2b86308345390"><td class="memItemLeft" align="right" valign="top"><a id="a0428335dcdc8493f07f2b86308345390" name="a0428335dcdc8493f07f2b86308345390"></a>
typedef struct ADC_Pin&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_Pin</b></td></tr>
<tr class="separator:a0428335dcdc8493f07f2b86308345390"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d87c309aefb032a834e9f3b369447f7" id="r_a3d87c309aefb032a834e9f3b369447f7"><td class="memItemLeft" align="right" valign="top"><a id="a3d87c309aefb032a834e9f3b369447f7" name="a3d87c309aefb032a834e9f3b369447f7"></a>
typedef struct ADC_Config&#160;</td><td class="memItemRight" valign="bottom"><b>ADC_Config</b></td></tr>
<tr class="separator:a3d87c309aefb032a834e9f3b369447f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1e6d26143d01b3b33e2cc9a31a448257" id="r_a1e6d26143d01b3b33e2cc9a31a448257"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a1e6d26143d01b3b33e2cc9a31a448257">ADC_Init</a> (<a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *config)</td></tr>
<tr class="memdesc:a1e6d26143d01b3b33e2cc9a31a448257"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the ADC with the provided configuration.  <br /></td></tr>
<tr class="separator:a1e6d26143d01b3b33e2cc9a31a448257"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c25ec9691f3f151ac984a3252132a4e" id="r_a9c25ec9691f3f151ac984a3252132a4e"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a9c25ec9691f3f151ac984a3252132a4e">ADC_Enable</a> (<a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *config)</td></tr>
<tr class="memdesc:a9c25ec9691f3f151ac984a3252132a4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enables the ADC and introduces a delay.  <br /></td></tr>
<tr class="separator:a9c25ec9691f3f151ac984a3252132a4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a867785c054b4b0abe8bb5f1c5782b2e5" id="r_a867785c054b4b0abe8bb5f1c5782b2e5"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a867785c054b4b0abe8bb5f1c5782b2e5">ADC_Start</a> (<a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *config)</td></tr>
<tr class="memdesc:a867785c054b4b0abe8bb5f1c5782b2e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the ADC conversion based on the specified channel type.  <br /></td></tr>
<tr class="separator:a867785c054b4b0abe8bb5f1c5782b2e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa03b1f6a2704bf6f76d5e643bbfe05cb" id="r_aa03b1f6a2704bf6f76d5e643bbfe05cb"><td class="memItemLeft" align="right" valign="top">int8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa03b1f6a2704bf6f76d5e643bbfe05cb">ADC_Start_Capture</a> (<a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *config, uint16_t *buffer)</td></tr>
<tr class="memdesc:aa03b1f6a2704bf6f76d5e643bbfe05cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts ADC capture and initializes DMA.  <br /></td></tr>
<tr class="separator:aa03b1f6a2704bf6f76d5e643bbfe05cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This is the driver file to be added the the application code. Functions in this driver are implemented in <a class="el" href="_a_d_c_8c.html">ADC.c</a>. </p>
<dl class="section author"><dt>Author</dt><dd>Kunal Salvi (<a href="#" onclick="location.href='mai'+'lto:'+'kun'+'al'+'sal'+'vi'+'us@'+'gm'+'ail'+'.c'+'om'; return false;">kunal<span class="obfuscator">.nosp@m.</span>salv<span class="obfuscator">.nosp@m.</span>ius@g<span class="obfuscator">.nosp@m.</span>mail<span class="obfuscator">.nosp@m.</span>.com</a>) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2024-08-21</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>Copyright (c) 2024 </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a9c25ec9691f3f151ac984a3252132a4e" name="a9c25ec9691f3f151ac984a3252132a4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9c25ec9691f3f151ac984a3252132a4e">&#9670;&#160;</a></span>ADC_Enable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ADC_Enable </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enables the ADC and introduces a delay. </p>
<p>This function enables the ADC by setting the ADON bit in the control register. After enabling the ADC, it introduces a delay to allow the ADC to stabilize.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Pointer to the ADC configuration structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int8_t Returns 1 on successful enabling of the ADC. </dd></dl>

</div>
</div>
<a id="a1e6d26143d01b3b33e2cc9a31a448257" name="a1e6d26143d01b3b33e2cc9a31a448257"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1e6d26143d01b3b33e2cc9a31a448257">&#9670;&#160;</a></span>ADC_Init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ADC_Init </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initializes the ADC with the provided configuration. </p>
<p>This function initializes the ADC peripheral based on the settings provided in the <code><a class="el" href="struct_a_d_c___config.html" title="This is the configuration structure to be used to make an instance of ADC.">ADC_Config</a></code> structure. It configures the ADC port, resolution, conversion mode, data alignment, and external trigger if enabled. It also sets up the DMA for ADC data transfer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Pointer to the ADC configuration structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int8_t Returns 1 on successful initialization, or -1 if an error occurs. </dd></dl>

</div>
</div>
<a id="a867785c054b4b0abe8bb5f1c5782b2e5" name="a867785c054b4b0abe8bb5f1c5782b2e5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a867785c054b4b0abe8bb5f1c5782b2e5">&#9670;&#160;</a></span>ADC_Start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ADC_Start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *</td>          <td class="paramname"><span class="paramname"><em>config</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the ADC conversion based on the specified channel type. </p>
<p>This function starts the ADC conversion process for either regular or injected channels. It clears the status register, then initiates the conversion by setting the appropriate start bit in the control register. If the channel type is invalid, it returns an error code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Pointer to the ADC configuration structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int8_t Returns 1 on successful start of the ADC conversion, or -1 if the channel type is invalid. </dd></dl>

</div>
</div>
<a id="aa03b1f6a2704bf6f76d5e643bbfe05cb" name="aa03b1f6a2704bf6f76d5e643bbfe05cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa03b1f6a2704bf6f76d5e643bbfe05cb">&#9670;&#160;</a></span>ADC_Start_Capture()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int8_t ADC_Start_Capture </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_a_d_c___config.html">ADC_Config</a> *</td>          <td class="paramname"><span class="paramname"><em>config</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *</td>          <td class="paramname"><span class="paramname"><em>buffer</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts ADC capture and initializes DMA. </p>
<p>This function initiates the ADC capture process. If an overrun condition is detected, it reinitializes the ADC by toggling the ADON bit. It then sets up the DMA to transfer the ADC data to a specified buffer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">config</td><td>Pointer to the ADC configuration structure. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">buffer</td><td>Pointer to the buffer where ADC data will be stored.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>int8_t Returns 1 on successful start of ADC capture. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.12.0
</small></address>
</div><!-- doc-content -->
</body>
</html>
